import { r as resolve_wasm_src } from './file-url-1a9970c0.js';

const Image_svelte_svelte_type_style_lang = '';

/* home/runner/work/gradio/gradio/js/image/shared/Image.svelte generated by Svelte v4.2.2 */
const {
	SvelteComponent,
	append,
	assign,
	compute_rest_props,
	detach,
	element,
	empty,
	exclude_internal_props,
	get_spread_update,
	handle_promise,
	init,
	insert,
	noop,
	safe_not_equal,
	set_attributes,
	set_data,
	set_style,
	src_url_equal,
	text,
	toggle_class,
	update_await_block_branch
} = window.__gradio__svelte__internal;
function create_catch_block(ctx) {
	let p;
	let t_value = /*error*/ ctx[3].message + "";
	let t;

	return {
		c() {
			p = element("p");
			t = text(t_value);
			set_style(p, "color", "red");
		},
		m(target, anchor) {
			insert(target, p, anchor);
			append(p, t);
		},
		p(ctx, dirty) {
			if (dirty & /*src*/ 1 && t_value !== (t_value = /*error*/ ctx[3].message + "")) set_data(t, t_value);
		},
		d(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (5:48)   <!-- svelte-ignore a11y-missing-attribute -->  <img src={resolved_src}
function create_then_block(ctx) {
	let img;
	let img_src_value;

	let img_levels = [
		{
			src: img_src_value = /*resolved_src*/ ctx[2]
		},
		/*$$restProps*/ ctx[1]
	];

	let img_data = {};

	for (let i = 0; i < img_levels.length; i += 1) {
		img_data = assign(img_data, img_levels[i]);
	}

	return {
		c() {
			img = element("img");
			set_attributes(img, img_data);
			toggle_class(img, "svelte-2xi6dn", true);
		},
		m(target, anchor) {
			insert(target, img, anchor);
		},
		p(ctx, dirty) {
			set_attributes(img, img_data = get_spread_update(img_levels, [
				dirty & /*src*/ 1 && !src_url_equal(img.src, img_src_value = /*resolved_src*/ ctx[2]) && { src: img_src_value },
				dirty & /*$$restProps*/ 2 && /*$$restProps*/ ctx[1]
			]));

			toggle_class(img, "svelte-2xi6dn", true);
		},
		d(detaching) {
			if (detaching) {
				detach(img);
			}
		}
	};
}

// (1:0) <script lang="ts">import { resolve_wasm_src }
function create_pending_block(ctx) {
	return { c: noop, m: noop, p: noop, d: noop };
}

function create_fragment(ctx) {
	let await_block_anchor;
	let promise;

	let info = {
		ctx,
		current: null,
		token: null,
		hasCatch: true,
		pending: create_pending_block,
		then: create_then_block,
		catch: create_catch_block,
		value: 2,
		error: 3
	};

	handle_promise(promise = resolve_wasm_src(/*src*/ ctx[0]), info);

	return {
		c() {
			await_block_anchor = empty();
			info.block.c();
		},
		m(target, anchor) {
			insert(target, await_block_anchor, anchor);
			info.block.m(target, info.anchor = anchor);
			info.mount = () => await_block_anchor.parentNode;
			info.anchor = await_block_anchor;
		},
		p(new_ctx, [dirty]) {
			ctx = new_ctx;
			info.ctx = ctx;

			if (dirty & /*src*/ 1 && promise !== (promise = resolve_wasm_src(/*src*/ ctx[0])) && handle_promise(promise, info)) ; else {
				update_await_block_branch(info, ctx, dirty);
			}
		},
		i: noop,
		o: noop,
		d(detaching) {
			if (detaching) {
				detach(await_block_anchor);
			}

			info.block.d(detaching);
			info.token = null;
			info = null;
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const omit_props_names = ["src"];
	let $$restProps = compute_rest_props($$props, omit_props_names);
	let { src = undefined } = $$props;

	$$self.$$set = $$new_props => {
		$$props = assign(assign({}, $$props), exclude_internal_props($$new_props));
		$$invalidate(1, $$restProps = compute_rest_props($$props, omit_props_names));
		if ('src' in $$new_props) $$invalidate(0, src = $$new_props.src);
	};

	return [src, $$restProps];
}

class Image extends SvelteComponent {
	constructor(options) {
		super();
		init(this, options, instance, create_fragment, safe_not_equal, { src: 0 });
	}
}

const Image$1 = Image;

const Example_svelte_svelte_type_style_lang = '';

export { Image$1 as I };
//# sourceMappingURL=Example.svelte_svelte_type_style_lang-6aeed26b.js.map
